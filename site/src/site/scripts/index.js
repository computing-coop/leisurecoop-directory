!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r=function(t){if("object"!=typeof(n=t)||Array.isArray(n))throw"state should be an object";var n},o=function(t,n,e){return(r=t,r.reduce((function(t,n,e){return t.indexOf(n)>-1?t:t.concat(n)}),[])).reduce((function(t,e){return t.concat(n[e]||[])}),[]).map((function(t){return t(e)}));var r};function a(t){void 0===t&&(t={});var n={};return{getState:function(){return Object.assign({},t)},hydrate:function(e){return r(e),Object.assign(t,e),function(){var r=["*"].concat(Object.keys(e));o(r,n,t)}},on:function(t,e){return(t=[].concat(t)).map((function(t){return n[t]=(n[t]||[]).concat(e)})),function(){return t.map((function(t){return n[t].splice(n[t].indexOf(e),1)}))}},emit:function(e,a){var c=("*"===e?[]:["*"]).concat(e);(a="function"==typeof a?a(t):a)&&(r(a),Object.assign(t,a),c=c.concat(Object.keys(a))),o(c,n,t)}}}a();var c=function(t){return"object"==typeof t&&!Array.isArray(t)},i=function(t){return"function"==typeof t};function u(t){return function(n,e){var r=[];return{subs:r,unmount:t(n,Object.assign({},e,{on:function(t,n){var o=e.on(t,n);return r.push(o),o}})),node:n}}}var l,s,f,d,v,p,h,g,m,b=[];function y(t,n){return s=window.pageXOffset,d=window.pageYOffset,p=window.innerHeight,g=window.innerWidth,f||(f=s),v||(v=d),m||(m=g),h||(h=p),(n||d!==v||s!==f||p!==h||g!==m)&&(function(t){for(var n=0;n<b.length;n++)b[n]({x:s,y:d,px:f,py:v,vh:p,pvh:h,vw:g,pvw:m},t)}(t),f=s,v=d,h=p,m=g),requestAnimationFrame(y)}var w=function(t,n){return void 0===n&&(n={}),function(e,r){var o=!1,a=parseFloat(t.getAttribute("data-threshold")||n.threshold||0);return function(t){return b.indexOf(t)<0&&b.push(t),l=l||y(performance.now()),{update:function(){return y(performance.now(),!0),this},destroy:function(){b.splice(b.indexOf(t),1)}}}((function(){for(var n=[],c=arguments.length;c--;)n[c]=arguments[c];var i=n[0],u=i.y,l=i.vh,s=t.getBoundingClientRect(),f=s.top+u,d=a>=.5?a:a*l,v=f+s.height-d>=u&&f+d<=u+l;v&&!o?(o=!0,e&&e.apply(void 0,n)):!v&&o&&(o=!1,r&&r.apply(void 0,n))}))}},j=u((function(t){t.onload=function(n){return t.classList.add("is-loaded")},/.png/.test(t.getAttribute("data-src"))&&t.parentNode.classList.add("transparent"),t.src=t.getAttribute("data-src"),w(t)((function(){t.classList.add("is-visible")})).update()})),O=u((function(t){var n=t.querySelectorAll(".js-color"),e=t.querySelector(".js-toggle-colors"),r=t.querySelector(".js-toggle-close"),o=document.querySelector(".js-switch"),a=t.querySelector(".js-lite"),c=t.querySelector(".js-dark");a.addEventListener("input",(function(){i()})),c.addEventListener("input",(function(){i()})),r.addEventListener("click",(function(){e.classList.remove("show")})),n.forEach((function(t){t.addEventListener("click",(function(){n.forEach((function(t){t.classList.remove("active")})),t.classList.add("active");var r=t.dataset.background,o=t.dataset.color;a.value=r,c.value=o,i(),e.classList.add("show")}))}));var i=function(){var t="\n      body {\n        background-color: ".concat(a.value,";\n        color: ").concat(c.value,";\n      }\n      .footer--text {\n        color: ").concat(c.value,";\n      }\n      .footer__shape {\n        stroke: ").concat(c.value,";\n      }\n\n      .footer__download:hover .footer--text {\n        color: ").concat(a.value,";\n      }\n      .footer__download:hover .footer__shape {\n        stroke: ").concat(a.value,";\n        color: ").concat(c.value,";\n      }\n      body button {\n        color: ").concat(c.value,";\n        border-color: ").concat(c.value,";\n      }\n      .toggle__colors-close {\n        color: ").concat(a.value,";\n      }\n      .project__single-blend {\n        background-color: ").concat(c.value,";\n      }\n      .alt {\n        background-color: ").concat(c.value,";\n        color: ").concat(a.value,";\n      }\n      .projects--single_image {\n        background-color: ").concat(c.value,";\n      }\n      .footer .newsletter button:hover span {\n        color: ").concat(c.value,";\n      }\n    ");o.innerHTML=t}}));var S=u((function(t){var n=t.querySelector("form");n.addEventListener("submit",(function(e){e.preventDefault();var r=t.querySelector(".js-spaghetti"),o=n.elements.email;console.log(o.value),function(t,n,e){void 0===e&&(e={});var r=Object.assign({},e,{g:t,email:n}),o=Object.keys(r).reduce((function(t,n){return t.append(n,r[n]),t}),new URLSearchParams);return fetch("https://manage.kmail-lists.com/ajax/subscriptions/subscribe",{method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:o}).then((function(t){return t.json()}))}("Yf9WmD",o.value,{}).then((function(t){n.reset(),n.classList.add("hidden"),r.classList.remove("hidden"),console.log("response",t)}))}))})),A=function(t,n,e){void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e=[]);var r=a(n),o=[];return{on:r.on,emit:r.emit,getState:function(){return r.getState()},add:function(n){if(!c(n))throw"components should be an object";Object.assign(t,n)},use:function(t){if(!i(t))throw"plugins should be a function";e.push(t)},hydrate:function(t){return r.hydrate(t)},mount:function(n){void 0===n&&(n="data-component"),n=[].concat(n);for(var a=0;a<n.length;a++){for(var u=n[a],l=[].slice.call(document.querySelectorAll("["+u+"]")),s=function(){for(var n=l.pop(),a=n.getAttribute(u).split(/\s/),s=0;s<a.length;s++){var f=t[a[s]];if(f){n.removeAttribute(u);try{var d=e.reduce((function(t,e){var o=e(n,r);return c(o)?Object.assign(t,o):t}),{}),v=f(n,Object.assign({},d,r));i(v.unmount)&&o.push(v)}catch(t){console.error(t),r.emit("error",{error:t}),r.hydrate({error:void 0})}}}};l.length;)s();r.emit("mount")}},unmount:function(){for(var t=o.length-1;t>-1;t--){var n=o[t],e=n.subs;(0,n.unmount)(n.node),e.map((function(t){return t()})),o.splice(t,1)}r.emit("unmount")}}}({image:j,theme:O,filters:u((function(t){var n=t.querySelectorAll("[data-filter]"),e=t.querySelector(".js-users");n.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("data-filter");t.classList.toggle("active"),e.classList.toggle(n)}))}))})),form:S},{menuOpen:!1});function L(t,n){for(var e=0,r=t.length;e<r;e++)if(!n(t[e],e,t))return!1;return!0}function _(t){if("/"===t)return t;47===t.charCodeAt(0)&&(t=t.substring(1));var n=t.length-1;return 47===t.charCodeAt(n)?t.substring(0,n):t}function x(t){return"/"===(t=_(t))?["/"]:t.split("/")}function k(t,n,e){return n.val===(e=t[e])&&0===n.type||("/"===e?n.type>1:0!==n.type&&(e||"").endsWith(n.end))}function q(t){if("/"===t)return[{old:t,type:0,val:t,end:""}];for(var n,e,r,o,a=_(t),c=-1,i=0,u=a.length,l=[];++c<u;)if(58!==(n=a.charCodeAt(c)))if(42!==n){for(i=c;c<u&&47!==a.charCodeAt(c);)++c;l.push({old:t,type:0,val:a.substring(i,c),end:""}),a=a.substring(c),u-=c,c=i=0}else l.push({old:t,type:2,val:a.substring(c),end:""});else{for(i=c+1,r=1,e=0,o="";c<u&&47!==a.charCodeAt(c);)63===(n=a.charCodeAt(c))?(e=c,r=3):46===n&&0===o.length&&(o=a.substring(e=c)),c++;l.push({old:t,type:r,val:a.substring(i,e||c),end:o}),a=a.substring(c),u-=c,c=0}return l}function E(t,n){for(var e,r,o=0,a=x(t),c={};o<n.length;o++)r=n[o],"/"!==(e=a[o])&&void 0!==e&&!1|r.type&&(c[r.val]=e.replace(r.end,""));return c}var P=new Map;function C(t){return t.replace(window.location.origin,"")}function M(t,n){var e="",r="",o=t.split(/#|\?/),a=o[0],c=o.slice(1);a=(a=a.replace(/\/$/g,""))||"/";for(var i=0;i<c.length;i++){var u=t.split(c[i])[0];"?"===u[u.length-1]&&(r=c[i]),"#"===u[u.length-1]&&(e=c[i])}var l=function(t,n){for(var e,r,o=0,a=x(t),c=a.length,i=k.bind(k,a);o<n.length;o++)if(((r=(e=n[o]).length)===c||r<c&&2===e[r-1].type||r>c&&3===e[r-1].type)&&L(e,i))return e;return[]}(a,n.map((function(t){return t.matcher}))),s=n.filter((function(t){return t.path===l[0].old}))[0];return l[0]?Object.assign({},s,{params:E(a,l),hash:e,search:r,pathname:a,location:t}):null}var T=function(t,n){void 0===n&&(n=["*"]);var e,r=document.querySelector(t),o=[],a={};n=n.concat(n.indexOf("*")<0?"*":[]).reduce((function(t,n){return"function"==typeof n?(o.push(n),t):t.concat(n)}),[]).map((function(t){return t.path?Object.assign({},t,{matcher:q(t.path)}):{path:t,matcher:q(t)}})),"scrollRestoration"in history&&(history.scrollRestoration="manual");var c=M(C(window.location.href),n),i=Object.assign({title:document.title},c);function u(t){return a[t]?a[t].map((function(t){return t(i)})):[]}function l(t,n,e,a){i.title=t.title,Promise.all(o.concat(e.handler||[]).map((function(t){return t(i)}))).then((function(){window.scrollTo(0,0),requestAnimationFrame((function(){r.innerHTML=n,u("after"),e.hash&&u("hash")}))}))}function s(n,e,r){if(!e)return window.location.href=n;fetch(n,{credentials:"include"}).then((function(t){return t.text()})).then((function(o){var a=(new window.DOMParser).parseFromString(o,"text/html"),c=[a,a.querySelector(t).innerHTML];P.set(n,c),r&&r(c[0],c[1],e)}))}function f(t,n,r){e=function(){var e=P.get(t);e&&!1!==n.cache?l(e[0],e[1],n):s(t,n,l)},Object.assign(i,n),Promise.all(u("before")).then(e)}function d(t){var e=C(t);return[e,M(e,n)]}return document.body.addEventListener("click",(function(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.defaultPrevented)){for(var n=t.target;n&&(!n.href||"A"!==n.nodeName);)n=n.parentNode;if(!n)return t;var e=d(n.href),r=e[0],o=e[1];return o.ignore?t:i.pathname===o.pathname&&o.hash?(t.preventDefault(),Object.assign(i,o),u("hash"),t):window.location.origin!==n.origin||n.hasAttribute("download")||"_blank"===n.target||/^(?:mailto|tel):/.test(n.href)||n.classList.contains("no-ajax")?t:(t.preventDefault(),i.location!==r&&f(r,o),u("navigate"),!1)}})),window.addEventListener("popstate",(function(t){if(t.target.location.pathname!==i.pathname)return f.apply(void 0,d(t.target.location.href).concat([!0])),!1})),{get state(){return i},go:function(t){e=null,f.apply(void 0,d(t).concat([!1]))},load:function(t,n){return s.apply(void 0,d(t).concat([n]))},on:function(t,n){return a[t]=a[t]?a[t].concat(n):[n],function(){return a[t].slice(a[t].indexOf(n),1)}}}}("#root");document.addEventListener("DOMContentLoaded",(function(t){console.log("🍝 Built by Kevin Green"),A.mount(),window.__app=A})),T.on("after",(function(t){var n=t.location;window.scrollTo(0,0);var e=document.querySelector(".js-title"),r="";e&&(r="".concat(e.getAttribute("data-title")," | ")),document.title=r+"Spaghetti Directory",window.history.pushState({},"",n),A.mount()}))}]);
//# sourceMappingURL=index.js.map